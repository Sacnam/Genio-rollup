<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Manage Prompts</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="manage_prompts.css">
    <!-- Sortable.js Locale -->
    <script src="../libs/Sortable.min.js"></script>
</head>
<body>
    <div class="manage-container">
        <div class="header">
            <div class="header-controls left">
                <button class="icon-button" id="backButton" title="Back to Chat">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
            </div>
            <h1 class="header-title">Manage Prompts</h1>
            <div class="header-controls right" style="min-width: 40px;"></div>
        </div>

        <div class="main-content">
            <div class="prompt-list-section">
                <h2>Your Prompts <small>(Drag to reorder)</small></h2>
                <ul id="promptList">
                    <li class="loading-placeholder">Loading prompts...</li>
                </ul>
                <button id="addPromptBtn" class="add-button">Add New Prompt</button>
            </div>

            <form id="promptForm" class="prompt-form" style="display: none;">
                 <h3 id="formTitle">Add New Prompt</h3>
                 <input type="hidden" id="promptId">

                 <div class="form-group">
                    <label for="promptTitle">Title (for button):</label>
                    <input type="text" id="promptTitle" required>
                 </div>

                 <div class="form-group">
                    <label for="promptText">Prompt Text:</label>
                    <textarea id="promptText" rows="4" required></textarea>
                 </div>

                 <div class="form-group">
                     <label>Choose an Icon (optional):</label>
                     <input type="hidden" id="selectedIconName">
                     <div id="iconPicker" class="icon-picker">
                     </div>
                 </div>

                 <div class="form-group">
                     <label for="promptColor">Button Color (optional):</label>
                     <input type="color" id="promptColor" value="#000000">
                 </div>

                 <div class="form-actions">
                    <button type="submit" id="savePromptBtn">Save</button>
                    <button type="button" id="cancelPromptBtn">Cancel</button>
                 </div>
            </form>
        </div>
    </div>

    <!-- Firebase SDK Locali (versione compat) -->
    <script src="../libs/firebase/firebase-app-compat.js"></script>
    <script src="../libs/firebase/firebase-auth-compat.js"></script>
    <script src="../libs/firebase/firebase-firestore-compat.js"></script>
    <!-- Il tuo script -->
    <script src="manage_prompts.js"></script>
</body>
</html>